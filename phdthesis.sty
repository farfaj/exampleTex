%%
%% This is file `phdthesis.sty`,
%%
%% This style file changes the appearance of the pages to improve
%% the aesthetics of PhD theses (in my opinion =)
%%
%% Copyright (C) 2007  Jamie Stevens
%%
%%
%%  This program is free software: you can redistribute it and/or modify
%%  it under the terms of the GNU General Public License as published by
%%  the Free Software Foundation, either version 3 of the License, or
%%  (at your option) any later version.
%%
%%  This program is distributed in the hope that it will be useful,
%%  but WITHOUT ANY WARRANTY; without even the implied warranty of
%%  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%%  GNU General Public License for more details.
%%
%%  You should have received a copy of the GNU General Public License
%%  along with this program.  If not, see <http://www.gnu.org/licenses/>.
%%
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{phdthesis}[2007/09/11 v1.0 PhD Thesis Style]

\RequirePackage[printonlyused]{acronym}

%% change the equation number appearance
%% load up the AMS math package
\RequirePackage{amsmath}

%% load up the fancy box making package
\RequirePackage{fancybox}

%\RequirePackage{times}
\RequirePackage{calc}
%\RequirePackage[top=2.5cm, bottom=2.5cm, left=3.2cm, right=3.2cm]{geometry}
\RequirePackage[top=4.5cm, bottom=2.5cm, left=3.3cm, right=3.3cm]{geometry}

\RequirePackage{afterpage}
\RequirePackage{algorithm}
\RequirePackage{algorithmic}
\numberwithin{algorithm}{chapter}

\RequirePackage{amssymb}


\RequirePackage{paralist}
\RequirePackage[usenames,dvipsnames]{color}
% \RequirePackage{subfig}
% \RequirePackage{subfigure}
\RequirePackage[center]{caption}
\RequirePackage{array}
\RequirePackage{pdflscape}
\RequirePackage{cite}
\RequirePackage{colortbl}
\RequirePackage{booktabs}
%\RequirePackage{appendix}
\RequirePackage{float}

\RequirePackage{fmtcount}

\RequirePackage[greek,english]{babel}

\floatstyle{plain}
\newfloat{contributionbox}{htpb}{lop}
\floatname{contributionbox}{ContributionBox}


%\RequirePackage[colorlinks]{hyperref}



%\RequirePackage[utf8]{inputenc}
%\RequirePackage[T1]{fontenc}






% *** GRAPHICS RELATED PACKAGES ***

\RequirePackage[dvips]{graphicx}
%\RequirePackage{graphicx}
  % declare the path(s) where your graphic files are
   \graphicspath{{./eps}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
   \DeclareGraphicsExtensions{.eps}
   
\RequirePackage{multirow}
\RequirePackage{rotating}
\RequirePackage{xfrac}

%% make the equation numbers have little ovals around them
%\def\tagform@#1{\maketag@@@{\cornersize{0.8}\ovalbox{\ignorespaces\rmfamily{#1}\unskip\@@italiccorr}}}

\RequirePackage{setspace}

%% Load up PS insertion package
% \RequirePackage{psboxit}
% \PScommands

%% Load up fancy headers and footers package
\RequirePackage{fancyhdr}

\hyphenation{crank-back crank-backs}
%% now reset the headers and footers
\fancyhead{}
\fancyfoot{}
%% make the odd pages have the section name on the top right
\fancyhead[LO]{\rmfamily\slshape\nouppercase{ \leftmark}}
\fancyhead[RO]{\rmfamily\slshape \thepage}
%% make the even pages have the chapter name on the top left
\fancyhead[LE]{\rmfamily\slshape\nouppercase{ \leftmark}}
\fancyhead[RE]{\rmfamily\slshape \thepage}
%\fancyhead[L]{\rmfamily\slshape\nouppercase{ \leftmark}}
% \renewcommand{\footrulewidth}{0.2pt}
%\renewcommand{\footruleskip}{0mm}

\headsep = 30pt

%% put the page numbers on the bottom in a nice box
%% even side pages
%\fancyfoot[LE]{\psboxit{box 0.8 setgray fill}
%{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}
%% odd side pages
%\fancyfoot[RO]{\psboxit{box 1 setgray fill}
%{\hspace{\textwidth}\psboxit{box 0.8 setgray fill}
%{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}}

%% make the bottom line above the page number box
%\renewcommand{\footrulewidth}{0.4pt}
%\renewcommand{\footruleskip}{0mm}


%% bring the style into effect
\pagestyle{fancy}

%% now redefine the plain style pages (chapter pages, contents pages)
%% to have the same page number stuff on the bottom
\fancypagestyle{plain}{
\fancyhf{}
\fancyfoot[C]{\thepage}
%\fancyfoot[RO]{\psboxit{box 1 setgray fill}
%{\hspace{\textwidth}\psboxit{box 0.8 setgray fill}
%{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}}
\renewcommand{\headrulewidth}{0pt}
%\renewcommand{\footrulewidth}{0.2pt}
}



\renewcommand{\chaptermark}[1]{\markboth{\chaptername \thechapter.\ #1}{}}

%% this next section (till \makeatother) makes sure that blank pages
%% are actually completely blank, cause they're not usually
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
	\hbox{}
	\vspace*{\fill}
	\thispagestyle{empty}
	\newpage
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother


% Alter some LaTeX defaults for better treatment of figures:
% See p.105 of "TeX Unbound" for suggested values.
% See pp. 199-200 of Lamport's "LaTeX" book for details.
%   General parameters, for ALL pages:
\renewcommand{\topfraction}{0.9}	% max fraction of floats at top
\renewcommand{\bottomfraction}{0.8}	% max fraction of floats at bottom
%   Parameters for TEXT pages (not float pages):
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}     % 2 may work better
\setcounter{dbltopnumber}{2}    % for 2-column pages
\renewcommand{\dbltopfraction}{0.9}	% fit big float above 2-col. text
\renewcommand{\textfraction}{0.07}	% allow minimal text w. figs
%   Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.7}	% require fuller float pages
%N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.7}	% require fuller float pages

%%change the bullets
\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\diamond$}
\renewcommand{\labelitemiii}{$\circ$}
\renewcommand{\labelitemiv}{$\ast$}
%% now change the chapter style
%% load up the quotchap package
\RequirePackage[times]{quotchap}

%% make the quotation appear next to the chapter number
\renewcommand\chapterheadstartvskip{\vspace*{1\baselineskip}}
%\renewcommand\chapterheadendvskip{\vspace*{5\baselineskip}}

%% now change the section heading to have a line beneath it
%% load up the fancy title-style package
\RequirePackage[calcwidth]{titlesec}




%\titleformat{\section}[hang]{\rmfamily\bfseries}
%{\Large\thesection}{11pt}{\Large}[{\titlerule[0.5pt]}]

%\newlength{\tnotelength}
%\setlength{\tnotelength}{6.75in}

%\newcommand{\tnote}[1]{ {\parbox{\tnotelength}{%
                      %  \addtolength{\leftskip}{.25cm}%
                      %  \setlength{\parindent}{0cm} #1}} }


%\newenvironment{myindentpar}[1]%
%{\begin{list}\itshape{}%
%         {{\setlength{\leftmargin}{3cm}}}%
%         \item[]%
%}
%{\end{list}}

\newcommand{\HRule}{\rule{\linewidth}{0.1mm}}


\newenvironment{elements}
{\begin{spacing}{1.5}
\itshape
\end{spacing}
}

% \renewcommand{\baselinestretch}{2}
\doublespacing

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{2}

% ******TRACK CHANGES PACKAGES *** 
%\RequirePackage[margins]{trackchanges}

%****** ragged botton *****
\raggedbottom

%***** change bibliography to references %
%\renewcommand{\bibname}{References}

\addto\captionsenglish{
\renewcommand\bibname{References}
}

%*******color for table in chap 7/6 *****%
\newcolumntype{A}{%
   >{\color{white}\columncolor[rgb]{0.8,0.8,1.0}%
       \raggedright}%
    c}

%\setitemize{leftmargin=*}

%
% Environments
%

% This macro define an environment for front matter that is always 
% single column even in a double-column document.

%\newenvironment{alwayssingle}{%
%       \@restonecolfalse\if@twocolumn\@restonecoltrue\onecolumn
%       \else\newpage\fi}
  %     {\if@restonecol\twocolumn\else\newpage\fi}


%define title page layout
%\renewcommand{\maketitle}{%
%\begin{alwayssingle}
%    \renewcommand{\footnotesize}{\small}
%    \renewcommand{\footnoterule}{\relax}
%    \thispagestyle{empty}
%  \null\vfill
%  \begin{center}
 %   { \Huge {\bfseries {\@title}} \par}
%{\large \vspace*{40mm} {\crest \par} \vspace*{25mm}}
%    {{\Large \@author} \par}
%{\large \vspace*{1ex}
%    {{\@college} \par}
%\vspace*{1ex}
%    {University of Oxford \par}
%\vspace*{25mm}
%    {{\submittedtext} \par}
%\vspace*{1ex}
%    {\it {\@degree} \par}
%\vspace*{2ex}
 %   {\@degreedate}}
 % \end{center}
 % \null\vfill
%\end{alwayssingle}}

% DEDICATION
%
% The dedication environment makes sure the dedication gets its
% own page and is set out in verse format.

%\newenvironment{dedication}
%{\begin{alwayssingle}
%  \thispagestyle{empty}
%  \begin{center}
%  \vspace*{1.5cm}
%  {\LARGE }
%  \end{center}
%  \vspace{0.5cm}
 % \begin{verse}\begin{center}}
%{\end{center}\end{verse}\end{alwayssingle}}


\newenvironment{dedication}
{ \thispagestyle{plain}
  \begin{center}
  \vspace*{1.5cm}
  {\LARGE }
  \end{center}
  \vspace{0.5cm}
  \begin{verse}\begin{center}}
{\end{center}\end{verse}\pagebreak}

% ACKNOWLEDGEMENTS
%
% The acknowledgements environment puts a large, bold, centered 
% "Acknowledgements" label at the top of the page. The acknowledgements
% themselves appear in a quote environment, i.e. tabbed in at both sides, and
% on its own page.



%\newenvironment{acknowledgements}
%{\begin{alwayssingle} \thispagestyle{empty}
%\begin{center}
%\vspace*{1.5cm}
%{\Large \bfseries Acknowledgements}
%\end{center}
%\vspace{0.5cm}
%\begin{quote}}
%{\end{quote}\end{alwayssingle}}

\newenvironment{acknowledgements}
{\thispagestyle{plain}
\begin{center}
\vspace*{1.5cm}
{\Large \bfseries Acknowledgements}
\end{center}
\vspace{0.5cm}
\begin{quote}}
{\end{quote}}

% The acknowledgementslong environment puts a large, bold, centered 
% "Acknowledgements" label at the top of the page. The acknowledgement itself 
% does not appears in a quote environment so you can get more in.

%\newenvironment{acknowledgementslong}
%{\begin{alwayssingle} \thispagestyle{empty}
%\begin{center}
%\vspace*{1.5cm}
%{\Large \bfseries Acknowledgements}
%\end{center}
%\vspace{0.5cm}}
%{\end{alwayssingle}}

\newenvironment{acknowledgementslong}
{\thispagestyle{plain}
\begin{center}
%\vspace*{1.5cm}
{\Large \bfseries Acknowledgements}
\end{center}
%\vspace{0.5cm}
}
{}

% STATEMENT OF ORIGINALITY (AS SUGGESTED BY GSW)
%
% The originality environment puts a large, bold, centered 
% "Statement of originality" label at the top of the page. The statement 
% of originality itself appears in a quote environment, i.e. tabbed in at 
% both sides, and on its own page.

%\newenvironment{originality}
%{\begin{alwayssingle} \thispagestyle{empty}
%\begin{center}
%\vspace*{1.5cm}
%{\Large \bfseries Statement of Originality}
%\end{center}
%\vspace{0.5cm}
%\begin{quote}}
%{\end{quote}\end{alwayssingle}}

% The originalitylong environment puts a large, bold, centered 
% "Statement of originality" label at the top of the page. The statement 
% of originality itself does not appears in a quote environment so you can 
% get more in.

%\newenvironment{originalitylong}
%{\begin{alwayssingle} \thispagestyle{empty}
%\begin{center}
%\vspace*{1.5cm}
%{\Large \bfseries Statement of Originality}
%\end{center}
%\vspace{0.5cm}}
%{\end{alwayssingle}}


%ABSTRACT
%
%The abstract environment puts a large, bold, centered "Abstract" label at
%the top of the page. The abstract itself appears in a quote environment,
%i.e. tabbed in at both sides, and on its own page.


%\renewenvironment{abstract} {\begin{alwayssingle} \thispagestyle{empty}
%  \begin{center}
%  \vspace*{1.5cm}
%  {\Large \bfseries  Abstract}
%  \end{center}
%  \vspace{0.5cm}
%   \begin{quote}}
%{\end{quote}\end{alwayssingle}}

%The abstractlong environment puts a large, bold, centered "Abstract" label at
%the top of the page. The abstract itself does not appears in a quote
%environment so you can get more in.

%\newenvironment{abstractlong} {\begin{alwayssingle} \thispagestyle{empty}
%  \begin{center}
%  \vspace*{1.5cm}
%  {\Large \bfseries  Abstract}
%  \end{center}
%  \vspace{0.5cm}}
%{\end{alwayssingle}}

\newenvironment{abstractlong} {\thispagestyle{plain}
  \begin{center}
  %\vspace*{0.5cm}
  {\Large \bfseries  Abstract}
  \end{center}
  %\vspace{0.5cm}
  }
{\pagebreak}

%The abstractseparate environment is for running of a page with the abstract
%on including title and author etc as required to be handed in separately

%\newenvironment{abstractseparate} {\begin{alwayssingle} \thispagestyle{empty}
%  \vspace*{-1in}
% \begin{center}
%    { \Large {\bfseries {\@title}} \par}
%    {{\large \vspace*{1ex} \@author} \par}
%{\large \vspace*{1ex}
%    {{\@college} \par}
%    {University of Oxford \par}
%\vspace*{1ex}
%    {{\it \submittedtext} \par}
%    {\it {\@degree} \par}
%\vspace*{2ex}
%    {\@degreedate}}
%  \end{center}}
%{\end{alwayssingle}}



%%
%% End of file `phdthesis.sty`
